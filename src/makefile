############################################################################################################
############################ TEMPLATE MAKE FILE ############################################################
############################################################################################################

#1 : initialise flags, lib path, object path and src path 
#2 : list objects to create
#3 : make objects and library paths directories
#4 : compile all c or c++ files to a .o file
#5 : linker, create executable from .o and .so files 


###################################################### 1 ########################################################
CC = gcc
CFLAGS = -Wall -g -O
OBJ_PATH = ../obj/
LIB_PATH = ../lib/
SRC_PATH = ./
PROGRAM_TARGET_PATH = ../
LD_FLAGS = -shared
###################################################### 2 ########################################################
OBJS = \
$(OBJ_PATH)main.o \
$(OBJ_PATH)arithmitic.o \

###################################################### 3 ########################################################
$(OBJ_PATH):
	mkdir -p $(OBJ_PATH)
	
$(LIB_PATH):
	mdir -p $(LIB_PATH)
	
	
###################################################### 4 ########################################################
$(OBJ_PATH)%.o : $(SRC_PATH)%.c | $(OBJ_PATH)
	$(CC) -o $@ -c $<
	
	
###################################################### 5 ########################################################
program: $(OBJ_PATH) $(OBJS) | $(PROGRAM_TARGET_PATH)
	$(CC) $(CFLAGS) -o"$(PROGRAM_TARGET_PATH)test" $(OBJS)